/**
* jquery asSwitch v0.2.2
* https://github.com/amazingSurge/jquery-asSwitch
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{var i={exports:{}};e(t.jQuery),t.jqueryAsSwitchEs=i.exports}}(this,function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=e(t),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),h={namespace:"asSwitch",skin:"default",dragable:!0,clickable:!0,disabled:!1,onText:"ON",offText:"OFF",checked:!0,animation:200},o="asSwitch",c=function(){function t(e,n){i(this,t),this.$element=(0,s.default)(e).wrap("<div></div>"),this.$wrap=this.$element.parent();var a={disabled:this.$element.prop("disabled"),checked:this.$element.prop("checked")};this.options=s.default.extend({},h,n,a,this.$element.data()),this.namespace=this.options.namespace,this.classes={skin:this.namespace+"_"+this.options.skin,on:this.namespace+"_on",off:this.namespace+"_off",disabled:this.namespace+"_disabled"},this.$wrap.addClass(this.namespace),this.options.skin&&this.$wrap.addClass(this.classes.skin),this.checked=this.options.checked,this.disabled=this.options.disabled,this.initialized=!1,this._click=!0,this._trigger("init"),this.init()}return a(t,[{key:"init",value:function(){var t=this.options;this.$inner=(0,s.default)('<div class="'+this.namespace+'-inner"></div>'),this.$innerBox=(0,s.default)('<div class="'+this.namespace+'-inner-box"></div>'),this.$on=(0,s.default)('<div class="'+this.namespace+'-on">'+t.onText+"</div>"),this.$off=(0,s.default)('<div class="'+this.namespace+'-off">'+t.offText+"</div>"),this.$handle=(0,s.default)('<div class="'+this.namespace+'-handle"></div>'),this.$innerBox.append(this.$on,this.$off),this.$inner.append(this.$innerBox),this.$wrap.append(this.$inner,this.$handle);var e=this.$on.width(),i=this.$handle.width();this.distance=e-i/2,this.options.clickable===!0&&this.$wrap.on("click.asSwitch touchstart.asSwitch",s.default.proxy(this.click,this)),this.options.dragable===!0&&(this.$handle.on("mousedown.asSwitch touchstart.asSwitch",s.default.proxy(this.mousedown,this)),this.$handle.on("click.asSwitch",function(){return!1})),this.set(this.checked,!1),this.initialized=!0,this._trigger("ready"),this.disabled&&this.disable()}},{key:"_trigger",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];var n=[this].concat(i);this.$element.trigger(o+"::"+t,n),t=t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1)});var a="on"+t;"function"==typeof this.options[a]&&this.options[a].apply(this,i)}},{key:"animate",value:function(t,e){return this.initialized===!1?(this.$innerBox.css({marginLeft:t}),this.$handle.css({left:this.distance+t}),"function"==typeof e&&e(),!1):(this.$innerBox.stop().animate({marginLeft:t},{duration:this.options.animation,complete:e}),void this.$handle.stop().animate({left:this.distance+t},{duration:this.options.animation}))}},{key:"getDragPos",value:function(t){return t.pageX||(t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageX:0)}},{key:"move",value:function(t){t=Math.max(-this.distance,Math.min(t,0)),this.$innerBox.css({marginLeft:t}),this.$handle.css({left:this.distance+t})}},{key:"click",value:function(){if(!this._click)return this._click=!0,!1;if(!this.disabled)return this.checked?this.set(!1):this.set(!0),!1}},{key:"mousedown",value:function(t){var e=void 0,i=this,n=this.getDragPos(t);if(!this.disabled)return this.mousemove=function(t){var i=this.getDragPos(t);return e=this.checked?i-n>0?0:i-n<-this.distance?-this.distance:i-n:i-n<0?-this.distance:i-n>this.distance?0:-this.distance+i-n,this.move(e),this.$handle.off("mouseup.asSwitch"),!1},this.mouseup=function(){var t=parseInt(this.$innerBox.css("margin-left"),10);return Math.abs(t)>=this.distance/2&&this.set(!1),Math.abs(t)<this.distance/2&&this.set(!0),(0,s.default)(document).off(".asSwitch"),this.$handle.off("mouseup.asSwitch"),!1},(0,s.default)(document).on({"mousemove.asSwitch":s.default.proxy(this.mousemove,this),"mouseup.asSwitch":s.default.proxy(this.mouseup,this),"touchmove.asSwitch":s.default.proxy(this.mousemove,this),"touchend.asSwitch":s.default.proxy(this.mouseup,this)}),this.options.clickable&&this.$handle.one("mouseup.asSwitch touchend.asSwitch",function(){i.checked?i.set(!1):i.set(!0),(0,s.default)(document).off(".asSwitch")}),!1}},{key:"check",value:function(){return this.checked!==!0&&this.set(!0),this}},{key:"uncheck",value:function(){return this.checked!==!1&&this.set(!1),this}},{key:"set",value:function(t,e){var i=this;return this.checked=t,t===!0?this.animate(0,function(){i.$wrap.removeClass(i.classes.off).addClass(i.classes.on)}):this.animate(-this.distance,function(){i.$wrap.removeClass(i.classes.on).addClass(i.classes.off)}),e!==!1&&(this.$element.prop("checked",t),this.$element.trigger("change"),this._trigger("change",t)),this}},{key:"get",value:function(){return this.$element.prop("checked")}},{key:"val",value:function(t){return t?void this.set(t):this.get()}},{key:"enable",value:function(){return this.disabled=!1,this.$element.prop("disabled",!1),this.$wrap.removeClass(this.classes.disabled),this}},{key:"disable",value:function(){return this.disabled=!0,this.$element.prop("disabled",!0),this.$wrap.addClass(this.classes.disabled),this}},{key:"destroy",value:function(){this.$wrap.off(".asSwitch"),this.$handle.off(".asSwitch")}}],[{key:"setDefaults",value:function(t){s.default.extend(h,s.default.isPlainObject(t)&&t)}}]),t}(),r={version:"0.2.2"},u="asSwitch",d=s.default.fn.asSwitch,l=function(t){for(var e=this,i=arguments.length,a=Array(i>1?i-1:0),h=1;h<i;h++)a[h-1]=arguments[h];if("string"==typeof t){var o=function(){var i=t;if(/^_/.test(i))return{v:!1};if(!(/^(get)$/.test(i)||"val"===i&&0===a.length))return{v:e.each(function(){var t=s.default.data(this,u);t&&"function"==typeof t[i]&&t[i].apply(t,a)})};var n=e.first().data(u);return n&&"function"==typeof n[i]?{v:n[i].apply(n,a)}:void 0}();if("object"===("undefined"==typeof o?"undefined":n(o)))return o.v}return this.each(function(){(0,s.default)(this).data(u)||(0,s.default)(this).data(u,new c(this,t))})};s.default.fn.asSwitch=l,s.default.asSwitch=s.default.extend({setDefaults:c.setDefaults,noConflict:function(){return s.default.fn.asSwitch=d,l}},r)});